{"ast":null,"code":"import facade from'./loginFacade';import{baseURL}from\"./settings\";function handleHttpErrors(res){if(!res.ok){return Promise.reject({status:res.status,fullError:res.json()});}return res.json();}function demoFacade(){var fetchData=function fetchData(url){var options=facade.makeOptions(\"GET\",true);//True add's the token\nreturn fetch(baseURL+url,options).then(handleHttpErrors);};var getUser=function getUser(){var data=fetchData(\"/api/info/user\");return data;};var getAdmin=function getAdmin(){var data=fetchData(\"/api/info/admin\");return data;};var getData=function getData(){var data=fetchData(\"/api/info/data\");return data;};return{getUser:getUser,getAdmin:getAdmin,getData:getData};}var demo=demoFacade();export default demo;","map":{"version":3,"sources":["/Users/cecilie/NetBeansProjects/Eksamensprojekt_3semester/Eksamensprojekt_3semester_frontend/src/demoFacade.js"],"names":["facade","baseURL","handleHttpErrors","res","ok","Promise","reject","status","fullError","json","demoFacade","fetchData","url","options","makeOptions","fetch","then","getUser","data","getAdmin","getData","demo"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,eAAnB,CACA,OAAQC,OAAR,KAAsB,YAAtB,CAEA,QAASC,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CAC7B,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAe,CAAEC,MAAM,CAAEJ,GAAG,CAACI,MAAd,CAAsBC,SAAS,CAAEL,GAAG,CAACM,IAAJ,EAAjC,CAAf,CAAP,CACD,CACD,MAAON,CAAAA,GAAG,CAACM,IAAJ,EAAP,CACD,CAED,QAASC,CAAAA,UAAT,EAAsB,CACpB,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,GAAD,CAAS,CACzB,GAAMC,CAAAA,OAAO,CAAGb,MAAM,CAACc,WAAP,CAAmB,KAAnB,CAA0B,IAA1B,CAAhB,CAAiD;AACjD,MAAOC,CAAAA,KAAK,CAACd,OAAO,CAAGW,GAAX,CAAgBC,OAAhB,CAAL,CAA8BG,IAA9B,CAAmCd,gBAAnC,CAAP,CACD,CAHD,CAIA,GAAMe,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAMC,CAAAA,IAAI,CAAGP,SAAS,CAAC,gBAAD,CAAtB,CACA,MAAOO,CAAAA,IAAP,CACD,CAHD,CAKA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMD,CAAAA,IAAI,CAAGP,SAAS,CAAC,iBAAD,CAAtB,CACA,MAAOO,CAAAA,IAAP,CACD,CAHD,CAIA,GAAME,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAMF,CAAAA,IAAI,CAAGP,SAAS,CAAC,gBAAD,CAAtB,CACA,MAAOO,CAAAA,IAAP,CACD,CAHD,CAIA,MAAO,CACLD,OAAO,CAAPA,OADK,CAELE,QAAQ,CAARA,QAFK,CAGLC,OAAO,CAAPA,OAHK,CAAP,CAKD,CAED,GAAMC,CAAAA,IAAI,CAAGX,UAAU,EAAvB,CACA,cAAeW,CAAAA,IAAf","sourcesContent":["import facade from './loginFacade';\nimport {baseURL} from \"./settings\"\n\nfunction handleHttpErrors(res) {\n  if (!res.ok) {\n    return Promise.reject({ status: res.status, fullError: res.json() })\n  }\n  return res.json();\n}\n\nfunction demoFacade() {\n  const fetchData = (url) => {\n    const options = facade.makeOptions(\"GET\", true); //True add's the token\n    return fetch(baseURL + url, options).then(handleHttpErrors);\n  }\n  const getUser = () => {\n    const data = fetchData(\"/api/info/user\");\n    return data;\n  }\n\n  const getAdmin = () => {\n    const data = fetchData(\"/api/info/admin\");\n    return data;\n  }\n  const getData = () => {\n    const data = fetchData(\"/api/info/data\");\n    return data;\n  }\n  return {\n    getUser,\n    getAdmin,\n    getData\n  }\n}\n\nconst demo = demoFacade();\nexport default demo;\n"]},"metadata":{},"sourceType":"module"}