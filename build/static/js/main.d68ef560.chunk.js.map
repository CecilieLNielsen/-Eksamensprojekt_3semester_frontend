{"version":3,"sources":["settings.js","loginFacade.js","demoFacade.js","App.js","reportWebVitals.js","index.js"],"names":["baseURL","handleHttpErrors","res","ok","json","Promise","reject","status","fullError","facade","setToken","token","localStorage","setItem","getToken","getItem","loggedIn","makeOptions","method","addToken","body","opts","headers","JSON","stringify","login","user","password","options","username","fetch","then","logout","removeItem","fetchData","apiFacade","demo","url","getUser","getAdmin","getData","demoFacade","Header","className","exact","activeClassName","to","Home","init","useState","setLoggedIn","LoggedIn","LogIn","pass","User","userData","setUserData","useEffect","data","msg","Admin","adminData","setAdminData","Data","chuck","dad","insult","awesome","planet","dataData","setDataData","Welcome","NoMatch","props","loginCredentials","setLoginCredentials","onChange","evt","target","id","value","placeholder","onClick","preventDefault","dataFromServer","setDataFromServer","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d68ef560.chunk.js","sourcesContent":["\nexport const baseURL = \"http://localhost:8080/jpareststarter\";\n","import {baseURL} from \"./settings\"\n\nfunction handleHttpErrors(res) {\n    if (!res.ok) {\n        return Promise.reject({ status: res.status, fullError: res.json() })\n    }\n    return res.json();\n}\n\nfunction apiFacade() {\n    const setToken = (token) => {\n        localStorage.setItem('jwtToken', token)\n    }\n    const getToken = () => {\n        return localStorage.getItem('jwtToken')\n    }\n    const loggedIn = () => {\n        const loggedIn = getToken() != null;\n        return loggedIn;\n    }\n    const logout = () => {\n        localStorage.removeItem(\"jwtToken\");\n    }\n\n    const login = (user, password) => {\n        const options = makeOptions(\"POST\", true, { username: user, password: password });\n        return fetch(baseURL + \"/api/login\", options)\n            .then(handleHttpErrors)\n            .then(res => { setToken(res.token) })\n    }\n\n    const fetchData = () => {\n        const options = makeOptions(\"GET\", true); //True add's the token\n        return fetch(baseURL + \"/api/info/user\", options).then(handleHttpErrors);\n    }\n    const makeOptions = (method, addToken, body) => {\n        var opts = {\n            method: method,\n            headers: {\n                \"Content-type\": \"application/json\",\n                'Accept': 'application/json',\n                'Origin': '*'\n            }\n        }\n        if (addToken && loggedIn()) {\n            opts.headers[\"x-access-token\"] = getToken();\n        }\n        if (body) {\n            opts.body = JSON.stringify(body);\n        }\n        return opts;\n    }\n    return {\n        makeOptions,\n        setToken,\n        getToken,\n        loggedIn,\n        login,\n        logout,\n        fetchData\n    }\n}\nconst facade = apiFacade();\nexport default facade;\n","import facade from './loginFacade';\nimport {baseURL} from \"./settings\"\n\nfunction handleHttpErrors(res) {\n  if (!res.ok) {\n    return Promise.reject({ status: res.status, fullError: res.json() })\n  }\n  return res.json();\n}\n\nfunction demoFacade() {\n  const fetchData = (url) => {\n    const options = facade.makeOptions(\"GET\", true); //True add's the token\n    return fetch(baseURL + url, options).then(handleHttpErrors);\n  }\n  const getUser = () => {\n    const data = fetchData(\"/api/info/user\");\n    return data;\n  }\n\n  const getAdmin = () => {\n    const data = fetchData(\"/api/info/admin\");\n    return data;\n  }\n  const getData = () => {\n    const data = fetchData(\"/api/info/data\");\n    return data;\n  }\n  return {\n    getUser,\n    getAdmin,\n    getData\n  }\n}\n\nconst demo = demoFacade();\nexport default demo;\n","import React, { useState, useEffect } from \"react\"\nimport { Route, NavLink, Switch } from \"react-router-dom\";\nimport facade from \"./loginFacade\";\nimport demoFacade from \"./demoFacade\";\nimport './NavbarStyle.css';\n\nconst Header = () => {\n  return (\n    <ul className=\"header\">\n      <li><NavLink exact activeClassName=\"active\" to=\"/\">Home</NavLink></li>\n      <li><NavLink activeClassName=\"active\" to=\"/userpage\">User page</NavLink></li>\n      <li><NavLink activeClassName=\"active\" to=\"/adminpage\">Admin page</NavLink></li>\n      <li><NavLink activeClassName=\"active\" to=\"/datapage\">Data page</NavLink></li>\n      <li><NavLink activeClassName=\"active\" to=\"/welcomepage\">Welcome page</NavLink></li>\n    </ul>\n  );\n};\n\nconst Home = () => {\n  const init = facade.loggedIn;\n  const [loggedIn, setLoggedIn] = useState(init)\n\n  const logout = () => {\n    facade.logout()\n    setLoggedIn(false)\n  }\n  const login = (user, pass) => {\n    facade.login(user, pass)\n      .then(res => setLoggedIn(true));\n  }\n  return (\n    <div>\n      <h1>Hello! Just testing home!</h1>\n      {!loggedIn ? (<LogIn login={login} />) : (<LoggedIn logout={logout} />)}\n    </div>\n  );\n};\n\nconst User = () => {\n  const [userData, setUserData] = useState(\"Loading...\")\n\n  useEffect(() => {\n    demoFacade.getUser().then(data => setUserData(data.msg));\n  }, []);\n\n  return (\n    <div>\n      <h1>Hello! Just testing user!</h1>\n      <h2>{userData}</h2>\n    </div>\n  );\n};\n\nconst Admin = () => {\n  const [adminData, setAdminData] = useState(\"Loading...\")\n\n  useEffect(() => {\n    demoFacade.getAdmin().then(data => setAdminData(data.msg));\n  }, []);\n\n  return (\n    <div>\n      <h1>Hello! Just testing admin!</h1>\n      <h2>{adminData}</h2>\n    </div>\n  );\n};\n\nconst Data = () => {\n  const init = { \n    chuck: \"\", \n    dad: \"\",\n    insult:\"\",\n    awesome:\"\",\n    planet:\"\"\n   };\n\n   const [dataData, setDataData] = useState(init)\n\n  useEffect(() => {\n    demoFacade.getData().then(data => setDataData(data));\n  }, []);\n\n  return (\n    <div>\n      <h1>Hello! Just testing data!</h1>\n      <h2>{dataData.chuck}</h2>\n      <h2>{dataData.dad}</h2>\n      <h2>{dataData.insult}</h2>\n      <h2>{dataData.awesome}</h2>\n      <h2>{dataData.planet}</h2>\n    </div>\n  );\n};\n\nconst Welcome = () => {\n  return (\n    <div>\n    <h1>Instructions to use this project</h1>\n    <h5>1. Clone this project</h5>\n    <h5>2. Change URL</h5>\n    <h5>3. Add functionality</h5>\n    <h5>3. Deploy</h5>\n    </div>\n  );\n};\n\nconst NoMatch = () => {\n  return (\n    <h1>Hello! Just testing nomatch!</h1>\n  );\n};\n\nfunction LogIn(props) {\n  const init = { username: \"\", password: \"\" };\n  const [loginCredentials, setLoginCredentials] = useState(init);\n\n  const performLogin = (evt) => {\n    evt.preventDefault();\n    props.login(loginCredentials.username, loginCredentials.password);\n  }\n  const onChange = (evt) => {\n    setLoginCredentials({ ...loginCredentials, [evt.target.id]: evt.target.value })\n  }\n\n  return (\n    <div>\n      <h2>Login</h2>\n      <form onChange={onChange} >\n        <input placeholder=\"Username\" id=\"username\" />\n        <input placeholder=\"Password\" id=\"password\" />\n        <button onClick={performLogin}>Login</button>\n      </form>\n    </div>\n  )\n\n}\nfunction LoggedIn(props) {\n  const [dataFromServer, setDataFromServer] = useState(\"Loading...\")\n\n  useEffect(() => {\n    facade.fetchData().then(data => setDataFromServer(data.msg));\n  }, []);\n\n  return (\n    <div>\n      <h2>Data Received from server</h2>\n      <h3>{dataFromServer}</h3>\n      <button onClick={props.logout}>Logout</button>\n    </div>\n  )\n\n}\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/userpage\">\n          <User />\n        </Route>\n        <Route path=\"/adminpage\">\n          <Admin />\n        </Route>\n        <Route path=\"/datapage\">\n          <Data />\n        </Route>\n        <Route path=\"/welcomepage\">\n          <Welcome />\n        </Route>\n        <Route>\n          <NoMatch />\n        </Route>\n      </Switch>\n    </div>\n  )\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}