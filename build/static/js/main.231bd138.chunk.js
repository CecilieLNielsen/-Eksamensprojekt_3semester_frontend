(this.webpackJsonptokens_and_authentication=this.webpackJsonptokens_and_authentication||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),i=n.n(r),a=n(18),o=n.n(a),s=(n(25),n(11)),j=n(2),d=(n(26),n(3)),u="https://bycecilie.dk/Eksamensprojekt_3semester_backend/";function l(e){return e.ok?e.json():Promise.reject({status:e.status,fullError:e.json()})}var b=function(){var e=function(e){localStorage.setItem("jwtToken",e)},t=function(){return localStorage.getItem("jwtToken")},n=function(){var e=null!=t();return e},c=function(e,c,r){var i={method:e,headers:{"Content-type":"application/json",Accept:"application/json",Origin:"*"}};return c&&n()&&(i.headers["x-access-token"]=t()),r&&(i.body=JSON.stringify(r)),i};return{makeOptions:c,setToken:e,getToken:t,loggedIn:n,login:function(t,n){var r=c("POST",!0,{username:t,password:n});return fetch(u+"/api/login",r).then(l).then((function(t){e(t.token)}))},logout:function(){localStorage.removeItem("jwtToken")},fetchData:function(){var e=c("GET",!0);return fetch(u+"/api/info/user",e).then(l)}}}(),f=n(9),O=n(8),h=function(e){var t=Object(r.useState)(e.existingDogData),n=Object(d.a)(t,2),i=n[0],a=n[1];Object(r.useEffect)((function(){a(e.existingDogData)}),[e.existingDogData]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Edit a dog"}),Object(c.jsxs)("form",{onChange:function(e){a(Object(O.a)(Object(O.a)({},i),{},Object(f.a)({},e.target.id,e.target.value)))},children:[Object(c.jsx)("input",{placeholder:"Name",value:i.name,id:"name"}),Object(c.jsx)("input",{placeholder:"Date of birth",value:i.dateOfBirth,id:"dateOfBirth"}),Object(c.jsx)("input",{placeholder:"Info",value:i.info,id:"info"}),Object(c.jsx)("input",{placeholder:"Breed name",value:i.breedName,id:"breedName"}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault(),x.editDog(e.dogId,i).then((function(){return e.performAllDogs(t)}))},children:"Save changes"})]})]})};function g(e){return e.ok?e.json():Promise.reject({status:e.status,fullError:e.json()})}var x=function(){var e=function(e,t,n){var c=b.makeOptions(t,!0,n);return fetch(u+e,c).then(g)};return{addDog:function(t){return e("api/dog/add","POST",t)},getAllDogsByUser:function(){return e("api/dog/all","GET")},getAllBreeds:function(){return e("api/dog/breeds","GET")},getBreedInformation:function(t){return e("api/dog/breeds/"+t,"GET")},deleteDog:function(t){return e("api/dog/"+t,"DELETE")},editDog:function(t,n){return e("api/dog/"+t,"PUT",n)}}}();var m=function(e){var t=Object(r.useState)({username:"",password:""}),n=Object(d.a)(t,2),i=n[0],a=n[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Login"}),Object(c.jsxs)("form",{onChange:function(e){a(Object(O.a)(Object(O.a)({},i),{},Object(f.a)({},e.target.id,e.target.value)))},children:[Object(c.jsx)("input",{placeholder:"Username",id:"username"}),Object(c.jsx)("input",{placeholder:"Password",id:"password"}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault(),e.login(i.username,i.password)},children:"Login"})]})]})};var p=function(e){var t=Object(r.useState)("Loading..."),n=Object(d.a)(t,2),i=n[0],a=n[1];return Object(r.useEffect)((function(){b.fetchData().then((function(e){return a(e.msg)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Data Received from server"}),Object(c.jsx)("h3",{children:i}),Object(c.jsx)("button",{onClick:e.logout,children:"Logout"})]})},v=function(e){var t=Object(r.useState)({dogs:[{breed:""}]}),n=Object(d.a)(t,2),i=n[0],a=n[1];return Object(r.useEffect)((function(){x.getAllBreeds().then((function(e){return a(e)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"List of dog breeds"}),Object(c.jsx)("ul",{children:i.dogs.map((function(t,n){return Object(c.jsxs)("li",{children:[t.breed," ",Object(c.jsx)("button",{onClick:function(n){e.performBreedInformation(n,t.breed)},children:"Retrieve information"})]},n)}))})]})},D=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Information about dog breeds"}),Object(c.jsx)("img",{src:e.breedInformationData.image,alt:e.breedInformationData.image,width:"300",height:"200"}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["Breed: ",e.breedInformationData.breed]}),Object(c.jsxs)("li",{children:["Info: ",e.breedInformationData.info]}),Object(c.jsxs)("li",{children:["Wikipedia: ",e.breedInformationData.wikipedia]}),Object(c.jsxs)("li",{children:["Image: ",e.breedInformationData.image]}),Object(c.jsxs)("li",{children:["Facts: ",e.breedInformationData.facts]})]})]})},k=function(){var e=b.loggedIn,t=Object(r.useState)(e),n=Object(d.a)(t,2),i=n[0],a=n[1],o=Object(r.useState)({breed:"",info:"",wikipedia:"",image:"",facts:[""]}),s=Object(d.a)(o,2),j=s[0],u=s[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Welcome"}),i?Object(c.jsx)(p,{logout:function(){b.logout(),a(!1)}}):Object(c.jsx)(m,{login:function(e,t){b.login(e,t).then((function(e){return a(!0)}))}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(D,{breedInformationData:j}),Object(c.jsx)(v,{performBreedInformation:function(e,t){e.preventDefault(),x.getBreedInformation(t).then((function(e){return u(e)}))}})]})},I=function(){var e=Object(r.useState)("//TODO"),t=Object(d.a)(e,2),n=t[0];t[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Welcome"}),Object(c.jsx)("h2",{children:n})]})},B=function(e){var t=Object(r.useState)({name:"",dateOfBirth:"",info:"",breedName:""}),n=Object(d.a)(t,2),i=n[0],a=n[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Add a dog"}),Object(c.jsxs)("form",{onChange:function(e){a(Object(O.a)(Object(O.a)({},i),{},Object(f.a)({},e.target.id,e.target.value)))},children:[Object(c.jsx)("input",{placeholder:"Name",id:"name"}),Object(c.jsx)("input",{placeholder:"Date of birth",id:"dateOfBirth"}),Object(c.jsx)("input",{placeholder:"Info",id:"info"}),Object(c.jsx)("input",{placeholder:"Breed name",id:"breedName"}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault(),x.addDog(i).then((function(){return e.performAllDogs(t)}))},children:"Add dog"})]})]})},S=function(){var e=Object(r.useState)([{id:"",name:"",dateOfBirth:"",info:"",breedName:""}]),t=Object(d.a)(e,2),n=t[0],i=t[1],a=function(e){e.preventDefault(),x.getAllDogsByUser().then((function(e){return i(e)}))},o=Object(r.useState)(0),s=Object(d.a)(o,2),j=s[0],u=s[1],l=Object(r.useState)({}),b=Object(d.a)(l,2),f=b[0],O=b[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"User page"}),Object(c.jsx)(B,{performAllDogs:a}),Object(c.jsx)("br",{}),Object(c.jsx)("h3",{children:"Get all my dogs"}),Object(c.jsx)("button",{onClick:a,children:"Retrieve dogs"}),Object(c.jsx)("ul",{children:n.map((function(e){return Object(c.jsxs)("li",{children:[e.name,", ",e.dateOfBirth,", ",e.info,", ",e.breedName," ",Object(c.jsx)("button",{onClick:function(t){var n,c;n=t,c=e.id,n.preventDefault(),x.deleteDog(c).then((function(){return a(n)}))},children:"Delete"})," ",Object(c.jsx)("button",{onClick:function(t){!function(e,t){e.preventDefault(),u(t.id);var n={name:t.name,dateOfBirth:t.dateOfBirth,info:t.info,breedName:t.breedName};O(n)}(t,e)},children:"Edit"})]},e.id)}))}),Object(c.jsx)(h,{performAllDogs:a,dogId:j,existingDogData:f})]})},C=function(){return Object(c.jsx)("h1",{children:"Hello! Just testing nomatch!"})},E=function(){return Object(c.jsxs)("ul",{className:"header",children:[Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{exact:!0,activeClassName:"active",to:"/",children:"Home"})}),Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{activeClassName:"active",to:"/userpage",children:"User page"})}),Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{activeClassName:"active",to:"/adminpage",children:"Admin page"})})]})};var T=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(E,{}),Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:"/",children:Object(c.jsx)(k,{})}),Object(c.jsx)(j.a,{path:"/userpage",children:Object(c.jsx)(S,{})}),Object(c.jsx)(j.a,{path:"/adminpage",children:Object(c.jsx)(I,{})}),Object(c.jsx)(j.a,{children:Object(c.jsx)(C,{})})]})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(s.a,{children:Object(c.jsx)(T,{})})}),document.getElementById("root")),N()}},[[32,1,2]]]);
//# sourceMappingURL=main.231bd138.chunk.js.map